<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Список туров</title>
  <link rel="stylesheet" href="./css/view_tours_style.css" />
  <link rel="stylesheet" href="./css/style.css" />
</head>
<body>
  {{template "header.tmpl"}}
  <main>
  <h1>Список туров</h1>
  <br>
  <table class="table table-striped table-bordered" style="width: 100%;">
      <thead>
        <tr>
          <th>Место отдыха</th>
          <th>Место отправления</th>
          <th>Дата отправления</th>
          <th>Продолжительность</th>
          <th>Стоимость (от)</th>
          <th>Количество туристов</th>
          <th>Тип отдыха</th>
        </tr>
      </thead>
      <tbody>
        {{ range .Tours }}
        <tr>
          <td>{{ .ChillPlace }}</td>
          <td>{{ .FromPlace }}</td>
          <td>{{ .Date }}</td>
          <td>{{ .Duration }}</td>
          <td>{{ .Cost }}</td>
          <td>{{ .TouristsNumber }}</td>
          <td>{{ .ChillType }}</td>
        </tr>
        {{ end }}
      </tbody>
    </table>
    <div class="pagination p2">
      <ul id="pagination-list">
        <!-- Здесь будут динамически добавлены ссылки на пагинацию -->
      </ul>
    </div>

    <script>
      const currentPage = {{ .current_page }};
      pages = {{ .total_pages }};
      if ({{ .total_pages }} > 5) {
        pages = Math.ceil({{ .total_pages }} / 5);
      }
      const paginationList = document.getElementById('pagination-list');

      for (let i = 1; i <= pages; i++) {
        const linkElement = document.createElement('li');
        const anchorElement = document.createElement('a');
        anchorElement.href = 'tours?page=' + i.toString();
        linkElement.textContent = i;
        if (i === currentPage) {
          anchorElement.classList.add('is-active');
        }
        anchorElement.appendChild(linkElement);
        paginationList.appendChild(anchorElement);
        console.log(anchorElement);
      }

      const lastElement = document.createElement('li');
      const lastAnchor = document.createElement('a');
      lastElement.textContent = 'далее';
      lastAnchor.href = 'tours/next';
      lastAnchor.appendChild(lastElement);
      paginationList.appendChild(lastAnchor);
    </script>
  </main>
  {{template "footer.tmpl"}}
</body>
</html> 
